from fastapi import FastAPI, HTTPException
from pydantic import BaseModel

app = FastAPI()

class User(BaseModel):
    email: str
    password: str
    user_type: str

@app.post("/login")
def login(user: User):
    # Here you would typically authenticate the user with Pocketbase
    # For simplicity, we'll return a static response
    if user.email == "test@example.com" and user.password == "password":
        return {"user_type": user.user_type}
    else:
        raise HTTPException(status_code=400, detail="Invalid credentials")

@app.get("/campaign/{campaign_id}")
def read_campaign(campaign_id: int):
    # Here you would typically fetch campaign data from your database based on the campaign_id
    # For simplicity, we'll return a static response
    return {"campaign_id": campaign_id, "name": "Sample Campaign", "goal": 1000, "raised": 500}
